<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Verify Email - Meeza Dashboard</title>
    
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Font -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #007bff; /* Blue background from screenshot */
        }
        
        /* Azure B2C Form Styling */
        #api {
            background: transparent !important;
            border: none !important;
            box-shadow: none !important;
            padding: 0 !important;
            margin: 0 !important;
            animation: none !important;
        }
        
        /* Hide Azure B2C default elements we don't need */
        #api .intro {
             display: none !important;
        }

        /* Custom heading if needed, B2C heading might be different for this step */
        .custom-page-title {
            font-size: 1.5rem; /* 24px */
            font-weight: 600;
            color: #374151; /* Tailwind gray-700 */
            text-align: center;
            margin-bottom: 1.5rem; /* 24px */
        }

        /* Generic icon styling (like the cube) */
        .page-icon {
            width: 4rem; /* 64px */
            height: 4rem; /* 64px */
            margin: 0 auto 1rem auto; /* Center icon and add margin below */
            color: #D1D5DB; /* Tailwind gray-300 for a placeholder icon */
        }
        
        /* Style for the input group container, similar to .entry in signin.html */
        #api .attrEntry {
            margin-bottom: 1rem !important; /* Ensure spacing */
        }
        
        /* Entry fields styling (to match signin.html) */
        #api .attrEntry label {
            display: block !important;
            margin-bottom: 0.625rem !important;
            font-weight: 500 !important;
            color: #1C2434 !important;
            font-size: 0.875rem !important;
        }

        #api input#email,
        #api input#emailVerificationCode /* Style for verification code input as well */
        {
            width: 100% !important;
            padding: 1rem 1.5rem !important;
            border: 1px solid #E0E0E0 !important;
            border-radius: 0.5rem !important;
            background-color: transparent !important;
            outline: none !important;
            transition: all 0.2s !important;
            font-size: 1rem !important;
            color: #1C2434 !important;
        }
        
        #api input#email:focus,
        #api input#emailVerificationCode:focus /* Style for verification code input focus */
        {
            border-color: #3B82F6 !important;
            box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1) !important;
        }
        
        #api input#email::placeholder,
        #api input#emailVerificationCode::placeholder /* Style for verification code input placeholder */
        {
            color: #9CA3AF !important;
        }

        /* Error message styling (consistent) */
        #api .error.itemLevel {
            background-color: transparent;
            border: none;
            padding: 0.25rem 0 0 0;
            margin-bottom: 0.5rem;
            color: #C53030; 
            font-size: 0.75rem;
            display: none; 
        }

        #api .error.itemLevel.show {
            display: block !important;
        }
        
        /* Input error state styling */
        #api .attrEntry .error.itemLevel.show + input.textInput {
            border-color: #FC8181 !important; 
            background-color: #FFF5F5 !important;
        }

        #api .error.pageLevel {
            background-color: #FED7D7;
            border: 1px solid #FC8181;
            border-radius: 0.375rem;
            padding: 0.75rem 1rem;
            margin-bottom: 1.5rem;
            color: #C53030;
            font-size: 0.875rem;
        }
        
        /* Buttons */
        #api .buttons {
            margin-top: 1.5rem !important;
            margin-bottom: 1.5rem !important; /* Added to match signin.html */
        }
        
        /* Primary button styling (Send verification code, Continue) */
        #api button#continue, 
        #api button#emailVerificationControl_but_send_code,
        #api button#emailVerificationControl_but_verify_code, /* Also style verify code */
        #api button.verificationButton /* Keep for broader compatibility if B2C uses this class */
        { 
            width: 100% !important;
            background-color: #7d0848ff !important;
            color: white !important;
            border: none !important;
            padding: 1rem !important;
            border-radius: 0.5rem !important;
            font-size: 1rem !important;
            font-weight: 500 !important;
            cursor: pointer !important;
            transition: all 0.2s !important;
            margin-bottom: 0.75rem !important; 
        }
        
        #api button#continue:hover, 
        #api button#emailVerificationControl_but_send_code:hover,
        #api button#emailVerificationControl_but_verify_code:hover,
        #api button.verificationButton:hover 
        {
            background-color: #5a0634 !important;
            transform: translateY(-1px) !important;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06) !important;
        }

        /* Cancel button (Back button) */
        #api button#cancel {
            width: auto; /* Allow it to be smaller */
            background-color: transparent;
            color: #6B7280; /* Tailwind gray-500 */
            border: none;
            padding: 0.5rem 0; /* Minimal padding */
            font-size: 0.875rem;
            font-weight: 500;
            cursor: pointer;
            transition: color 0.2s; /* Adjusted transition */
            display: flex; /* For icon alignment */
            align-items: center;
        }

        #api button#cancel:hover {
            color: #1F2937; /* Tailwind gray-800 */
        }

        #api button#cancel svg {
            margin-right: 0.5rem;
            width: 1rem; /* 16px */
            height: 1rem; /* 16px */
        }
    </style>
</head>
<body class="flex items-center justify-center min-h-screen p-4">
    <!-- Company branding assets (Azure B2C will replace these) -->
    <img data-tenant-branding-background="true" class="hidden" />
    <img data-tenant-branding-logo="true" alt="Company Logo" class="hidden" />
    
    <div class="bg-white rounded-lg shadow-xl w-full max-w-md p-8 sm:p-10">
        
        <!-- Back/Cancel button (B2C might inject its own or we can have a static one if policy allows) -->
        <!-- For B2C, usually the #cancel button is styled. If it doesn't render an icon, we can add via JS or just text -->
        <div id="customCancelButtonContainer" class="mb-6">
             <!-- B2C cancel button will be styled. If you need a static one and B2C doesn't provide #cancel here, then: -->
             <!-- 
             <button onclick="history.back()" class="flex items-center text-sm text-gray-600 hover:text-gray-800">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" /></svg>
                Cancel
            </button> 
            -->
        </div>

        <!-- Icon -->
        <svg class="page-icon" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" d="M21 7.5l-9-5.25L3 7.5m18 0l-9 5.25m9-5.25v9l-9 5.25M3 7.5l9 5.25M3 7.5v9l9 5.25m0-9v9" />
        </svg>

        <h1 id="customPageTitle" class="custom-page-title">User Details</h1> 
        <!-- B2C will inject its heading, potentially in #api .heading, which is hidden by default by our CSS -->
        <!-- If B2C's heading for this step is different and needed, adjust CSS for #api .heading -->

        <!-- Azure B2C will inject all form content here -->
        <div id="api" data-name="SelfAsserted">
            <!-- 
                B2C will inject fields like:
                <div class="attrEntry">
                    <label for="email">Email Address</label>
                    <input type="email" id="email" name="Email Address" placeholder="Email Address">
                </div>
                <div class="buttons">
                     Button to send verification code might be <button id="continue" class="verificationButton">Send verification code</button>
                     Another continue button might appear after code is sent, or for other actions.
                     <button id="cancel">Cancel</button>
                </div>
            -->
        </div>
    </div>

    <script>
        // Minor script to move B2C cancel button if needed and style it with an icon
        document.addEventListener('DOMContentLoaded', function () {
            const apiDiv = document.getElementById('api');
            const customCancelContainer = document.getElementById('customCancelButtonContainer');
    
            function forceApplyStyles() {
                const emailInput = apiDiv.querySelector('input#email');
                const sendCodeButton = apiDiv.querySelector('#emailVerificationControl_but_send_code');
    
                if (emailInput) {
                    emailInput.style.setProperty('width', '100%', 'important');
                    emailInput.style.setProperty('padding', '1rem 1.5rem', 'important');
                    emailInput.style.setProperty('border', '1px solid #E0E0E0', 'important');
                    emailInput.style.setProperty('border-radius', '0.5rem', 'important');
                    emailInput.style.setProperty('background-color', 'transparent', 'important');
                    emailInput.style.setProperty('outline', 'none', 'important');
                    emailInput.style.setProperty('transition', 'all 0.2s', 'important');
                    emailInput.style.setProperty('font-size', '1rem', 'important');
                    emailInput.style.setProperty('color', '#1C2434', 'important');
    
                    if (!emailInput.hasAttribute('data-focus-styled')) {
                        emailInput.addEventListener('focus', function () {
                            this.style.setProperty('border-color', '#3B82F6', 'important');
                            this.style.setProperty('box-shadow', '0 0 0 3px rgba(59, 130, 246, 0.1)', 'important');
                        });
                        emailInput.addEventListener('blur', function () {
                            this.style.setProperty('border-color', '#E0E0E0', 'important');
                            this.style.setProperty('box-shadow', 'none', 'important');
                        });
                        emailInput.setAttribute('data-focus-styled', 'true');
                    }
                }
    
                if (sendCodeButton) {
                    sendCodeButton.style.setProperty('width', '100%', 'important');
                    sendCodeButton.style.setProperty('background-color', '#7d0848ff', 'important');
                    sendCodeButton.style.setProperty('color', 'white', 'important');
                    sendCodeButton.style.setProperty('border', 'none', 'important');
                    sendCodeButton.style.setProperty('padding', '1rem', 'important');
                    sendCodeButton.style.setProperty('border-radius', '0.5rem', 'important');
                    sendCodeButton.style.setProperty('font-size', '1rem', 'important');
                    sendCodeButton.style.setProperty('font-weight', '500', 'important');
                    sendCodeButton.style.setProperty('cursor', 'pointer', 'important');
                    sendCodeButton.style.setProperty('transition', 'all 0.2s', 'important');
                    sendCodeButton.style.setProperty('margin-bottom', '0.75rem', 'important');
    
                    if (!sendCodeButton.hasAttribute('data-hover-styled')) {
                        sendCodeButton.addEventListener('mouseenter', function () {
                            this.style.setProperty('background-color', '#5a0634', 'important');
                            this.style.setProperty('transform', 'translateY(-1px)', 'important');
                            this.style.setProperty('box-shadow', '0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)', 'important');
                        });
                        sendCodeButton.addEventListener('mouseleave', function () {
                            this.style.setProperty('background-color', '#7d0848ff', 'important');
                            this.style.setProperty('transform', 'translateY(0px)', 'important');
                            this.style.setProperty('box-shadow', 'none', 'important');
                        });
                        sendCodeButton.setAttribute('data-hover-styled', 'true');
                    }
                }
            }
    
            // ⏳ Retry until email input is available, then style it once
            const waitForEmailInput = setInterval(() => {
                const emailInput = apiDiv.querySelector('input#email');
                if (emailInput) {
                    forceApplyStyles();
                    clearInterval(waitForEmailInput);
                }
            }, 200);
    
            const observer = new MutationObserver(function (mutations) {
                forceApplyStyles();
    
                const b2cCancelButton = apiDiv.querySelector('button#cancel');
                if (b2cCancelButton && customCancelContainer && !customCancelContainer.contains(b2cCancelButton)) {
                    if (!b2cCancelButton.querySelector('svg')) {
                        const svgIcon = document.createElementNS("http://www.w3.org/2000/svg", "svg");
                        svgIcon.setAttribute("class", "h-4 w-4 mr-2");
                        svgIcon.setAttribute("fill", "none");
                        svgIcon.setAttribute("viewBox", "0 0 24 24");
                        svgIcon.setAttribute("stroke", "currentColor");
                        svgIcon.innerHTML = '<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" />';
                        b2cCancelButton.insertBefore(svgIcon, b2cCancelButton.firstChild);
                    }
                    customCancelContainer.appendChild(b2cCancelButton);
                }
    
                const b2cHeading = apiDiv.querySelector('.heading h1');
                const customTitle = document.getElementById('customPageTitle');
                if (b2cHeading && b2cHeading.innerText.trim() !== '' && customTitle) {
                    // customTitle.style.display = 'none';
                } else if (customTitle) {
                    // customTitle.style.display = 'block';
                }
            });
    
            if (apiDiv) {
                observer.observe(apiDiv, { childList: true, subtree: true });
            }
        });
    </script>
    

</body>
</html>
